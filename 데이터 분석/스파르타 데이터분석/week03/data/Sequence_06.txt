그러면 Requests 라이브러리 바로 한번 사용해 보겠습니다

[코드스니펫] 7번을 열어 주세요

그래서 이거를 그대로 복사 하세요

괜찮습니다 그대로 복사하세요 가지고 넣으시고요

우리가 어떤 API를 쓸 거냐면

여기 복사한 거 그대로 코드 복사 하셔가지고

붙여 넣어보세요

이제는 너무 익숙한 서울시

미세먼지 데이터를 가지고 하겠습니다

자 일단은 여기서 0까지만 해 볼까요

0까지만 해서 오른쪽 누르시고 Run 한번 해 보세요

뭐가 나오나 뭔가 나오죠

중구의 값이 나옵니다 딱 보아하니 요게 나오는 거예요

자 이게 뭐냐

우리가 막 자바스크립트로 굉장히 그 어렵게

API를 콜 했잖아요

파이썬도 API를

OpenAPI 같은 것들을 이용할 수가 있을 거 아닙니까

그 코드입니다 근데 이게 한 줄로 됐어요

한줄 한줄 제가 잠깐만 해석해 드릴게요

Requests 라이브러리 가지고 와라

두 번째는 requests.get 해서 url 넣기만 하면 결과 받아온다

그 결과가 json형식이란다

그리고 그걸 rjson에 넣고 rjson에서

딕셔너리를 꺼내 쓰듯이 꺼내 쓰면 끝났죠

이 위에는 그냥 라이브러리를 가지고 오는 거고요

요게 핵심인데

요 안에 굉장히 남이 짜놓은 코드들이 많이 들어가 있는 겁니다

그래서 아주 쉽게 API 콜 하는 법을 배웠는데요

뭐 해볼거냐면요

이렇게 중구 55, 종로구 53

이렇게 한번 print로 찍어볼게요

일단 row 안에 있는 리스트를 꺼내야겠죠

저도 한번 꺼내 볼게요

'구'들이니까 gus라고 할게요

gus = rjson['RealtimeCityAir']['row']

자 그다음에 for gu in gus

print(gu)하면 각 구들의 정보가 쭉 나올겁니다

나오죠 자 여기서 요거

MSRSTE_NM 이걸 하면

중구 라는 이름이 나올 것이고요

그리고 자 여기서 콤마 한 다음에

이번에는 IDEX_MVL 값을 여기에 넣고

그다음에 Run 하면 우리가 원하는 결과가 나왔습니다

그쵸? 이렇게 파이썬이

굉장히 문법도 간단하고 직관적입니다